<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Bina Rywards</title>
    <!-- link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" -->
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection"/>

    <link rel="shortcut icon" type="image/png" href="img/logo.png"/>
    <!-- SEO Meta Tags -->
    <meta name="google-site-verification" content="4iMAo_ib5dMbKsGBMjJSwF1aktuefz7LK_gmvjaB5Xs" />
    <meta name="Description" content="We are a rewards company providing businesses with a platform to reward their customers through digital goods including but not limited to Airtime, Mobile Money, Shopping vouchers, e.t.c">
    <meta name="Keywords" content="rewards binarewards bina binarywards rywards binary promotion free airtime money redeem points">

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body onload="" class="row">
<ul id="side-bar" class="side-nav fixed amber darken-4 white-text">
    <li class="logo">
        <div class="center">
            <a href="#" class="brand-logo"><img class="" src="img/logo_white.png"
                                                style="width: 160px; height: auto;"></a>
            <h5>Bina Rywards</h5>
        </div>
    </li>
    <li style="padding: 5px">
        <div class="row" style="padding: 0 !important; border: 2px solid #ffffff;">
            <input type="search" placeholder="Search here..." id="search_box" class="col s10 white-text">
            <a href="#search" id="search_btn" class="col s2 btn amber-text text-darken-4 white"><i
                    class="fa fa-search"></i></a>
            <div id="search-results">

            </div>
        </div>
    </li>

    <li class="menu active">
        <a href="#home" class="white-text" onclick="switch_page(this.hash)">
            <i class="fa fa-home white-text"></i> Home
        </a>
    </li>
    <li class="subheader company_logged company_name">Company</li>
    <li class="menu company_logged">
        <a href="#dashboard" class="white-text" onclick="switch_page(this.hash)">
            <i class="fa fa-th white-text"></i> Dashboard
        </a>
    </li>
    <li class="menu company_logged">
        <a href="#campaigns" class="white-text" onclick="switch_page(this.hash)">
            <i class="fa fa-connectdevelop white-text"></i> Campaigns
        </a>
    </li>
    <li class="subheader">About us</li>
    <li class="menu">
        <a href="#about" class="white-text" onclick="switch_page(this.hash)">
            <i class="fa fa-info white-text"></i> About
        </a>
    </li>
    <li class="menu">
        <a href="#contact" class="white-text" onclick="switch_page(this.hash)">
            <i class="fa fa-phone white-text"></i> Contact
        </a>
    </li>
</ul>
<a href="#" style="margin: 20px 10px; top: 0; right: 0; position: fixed; border: 1px solid white; z-index: 10000;" data-activates="side-bar"
   class="button-collapse top-nav waves-effect waves-light circle hide-on-large-only amber darken-4 btn btn-floating"><i
        class="fa fa-navicon"></i></a>

<div id="preloader" class="progress amber darken-4">
    <div class="indeterminate white"></div>
</div>

<div class="content center-all" id="home">
    <div class="center amber-text text-darken-4">
        <img src="img/logo.png" class="profile-sm-md hide-on-large-only">
        <h2 class="">Welcome to Bina Rywards</h2>
        <p class="flow-text">Choose your type of profile to continue:</p>
        <div>
            <button class="btn amber darken-4 white-text waves-effect waves-light"
                    onclick="switch_page('#redeem')">Redeem Code
            </button>
            <button class="btn amber darken-4 white-text waves-effect waves-light"
                    onclick="switch_page('#company_login')">Company Login
            </button>
        </div>
    </div>
</div>

<div class="content center-all d-none" id="about">
    <div class="center amber-text text-darken-4 container">
        <img src="img/logo.png" class="profile-sm-md hide-on-large-only">
        <h3 class="">About Us</h3>
        <p class="flow-text" style="text-align: justify;">
            Bina rywards is a platform that brings together businesses and the consumers of their various products.
            We acts as an intermediary giving businesses the chance to reward their consumers usually by the basis of the purchased products.
            We also provide powerful analytics based on the campaigns held by businesses which can provide a better insight into their market.
        </p>
    </div>
</div>

<div class="content center-all d-none" id="contact">
    <div class="center amber-text text-darken-4 container">
        <img src="img/logo.png" class="profile-sm-md hide-on-large-only">
        <h3 class="">Contact Us</h3>
        <p class="flow-text center">
            Email:
            <br>
            <a href="mailto:hello@binarywards.tech" class="orange-text text-darken-4 ul" target="_blank">hello@binarywards.tech</a>
            <br>Call:
            <br>
            <a href="tel:+254728824727" class="orange-text text-darken-4 ul" target="_blank">+254 728 824727</a><br>
            <a href="tel:+254718529992" class="orange-text text-darken-4 ul" target="_blank">+254 718 529992</a>
        </p>
    </div>
</div>

<div class="content center-all d-none" id="redeem">
    <div class="center">
        <h2 class="amber-text text-darken-4">Claim your ryward</h2>
        <h6 class="amber-text text-darken-4"> Fill in the fields below to redeem your points</h6>
        <div class="row  container">
            <form name="redeem" class="col s12" action="javascript:{ redeem_code(); }">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="fa fa-gift prefix amber-text text-darken-4"></i>
                        <input id="redemptionCode" type="text" class="validate" required>
                        <label for="redemptionCode">Ryward Code</label>
                    </div>
                    <div class="input-field col s12">
                        <i class="fa fa-phone prefix amber-text text-darken-4"></i>
                        <input id="phoneNumber" type="tel" class="validate" required>
                        <label for="phoneNumber">Phone Number</label>
                    </div>
                </div>
                <div class="col s12">
                    <button type="submit" class="btn white-text amber darken-4 waves-effect waves-light"
                            id="btn_redeem"> Redeem Points
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="content center-all d-none" id="company_login">
    <div class="row">
        <p class="center col s12 flow-text amber-text text-darken-4">Register a new company or login if you already have an
            account</p>
        <div class="col s12">
            <ul class="tabs">
                <li class="tab col s6"><a class=" waves-effect waves-orange" href="#signup">Sign up</a></li>
                <li class="tab col s6"><a class="active waves-effect waves-orange" href="#signin">Sign in</a></li>
            </ul>
        </div>
        <div id="signup" class="col s12 amber-text text-darken-4">
            <div class="row">
                <form name="new_company" class="col s12" action="javascript:{ signUp(); }">
                    <p class="flow-text center">Fill the fields below to register</p>
                    <div class="row">
                        <div class="input-field col s12 m6 l6">
                            <i class="fa fa-address-book prefix amber-text text-darken-4"></i>
                            <input id="companyCode" type="text" class="validate" required>
                            <label for="companyCode">Company Code eg BINA</label>
                        </div>
                        <div class="input-field col s12 m6 l6">
                            <i class="fa fa-industry prefix amber-text text-darken-4"></i>
                            <input id="companyName" type="tel" class="validate" required>
                            <label for="companyName">Company Name eg. Binarywards</label>
                        </div>
                        <div class="input-field col s12 m6 l6">
                            <i class="fa fa-envelope prefix amber-text text-darken-4"></i>
                            <input id="email" type="text" class="validate" required>
                            <label for="email">Email Address </label>
                        </div>
                        <div class="input-field col s12 m6 l6">
                            <i class="fa fa-phone prefix amber-text text-darken-4"></i>
                            <input id="companyPhone" type="tel" class="validate" required>
                            <label for="companyPhone">Phone Number</label>
                        </div>
                        <div class="input-field col s12 m6 l6">
                            <i class="fa fa-file-text prefix amber-text text-darken-4"></i>
                            <input id="registerPassword" type="password" class="validate" required>
                            <label for="registerPassword">Password</label>
                        </div>
                    </div>
                    <div class="center">
                        <button type="submit" class="btn white-text amber darken-4 waves-effect waves-light"> Create Account
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <div id="signin" class="col s12 amber-text text-darken-4">
            <div class="row">
                <form name="company_login" class="col s12" action="javascript:{ logIn(); }">
                    <p class="flow-text center small">Enter your credentials required to login</p>

                    <div class="row ">
                        <div class="input-field col s10 l6 m8 offset-l3 offset-m2 offset-s1">
                            <i class="fa fa-address-card-o prefix amber-text text-darken-4"></i>
                            <input id="company_code" type="text" class="validate" required>
                            <label for="company_code">Company Code</label>
                        </div>
                        <div class="input-field col  s10 l6 m8 offset-l3 offset-m2 offset-s1 ">
                            <i class="fa fa-file-text-o prefix amber-text text-darken-4"></i>
                            <input id="password" type="password" class="validate amber-text darken-4" required>
                            <label for="password">Password</label>
                        </div>
                    </div>
                    <div class="center">
                        <button type="submit"
                                class=" center btn white-text amber darken-4 waves-effect waves-light"
                                id="btn_login"> Sign In
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="content amber-text text-darken-4 d-none center-all" id="dashboard">
    <div class="row container card-panel">
        <div class="col s12 amber-text text-darken-4">
            <h4 class="center company_name">Company Name</h4>
            <div class="row center">
                <a href="#campaigns" class="col s10 m4 offset-s1 offset-m1 waves-effect waves-light btn btn-flat amber darken-4 white-text"
                                    onclick="switch_page(this.hash)">
                    <i class="fa fa-plus-square"></i>&nbsp;Campaigns
                </a>
                <a class="col s10 m4 offset-s1 offset-m2  waves-effect waves-light btn-flat amber darken-4 white-text">
                    <i class="fa fa-credit-card"></i>&nbsp;Load Account
                </a>
            </div>
            <div class="row">
                <h5 class="col s6 right-align"><i class="fa fa-credit-card-alt"></i> Balance: </h5>
                <h5 class="col s6 left-align company_balance">KES <span class="company_balance">0.00</span></h5>
            </div>
            <ul class="collapsible" data-collapsible="accordion">
                <li>
                    <div class="collapsible-header"><i class="fa fa-address-card-o"></i>Company profile</div>
                    <div class="collapsible-body">
                        <form class="row">
                            <div class="input-field col s12 m9 l10">
                                <i class="fa fa-industry prefix"></i>
                                <input type="text" class="validate company_name" id="txt_company_name_update">
                                <label for="txt_company_name_update">Company Name</label>
                            </div>
                            <div class="input-field col s6 offset-s2 m3 l2">
                                <input type="text" class="validate company_code disabled" id="txt_company_code" readonly>
                                <label for="txt_company_code">Company Code</label>
                            </div>
                            <div class="input-field col s12">
                                <i class="fa fa-envelope-o prefix"></i>
                                <input type="email" class="validate company_email disabled" id="txt_company_email">
                                <label for="txt_company_email">Company Email</label>
                            </div>
                            <div class="input-field col s12">
                                <i class="fa fa-phone prefix"></i>
                                <input type="tel" class="validate company_phone disabled" id="txt_company_phone">
                                <label for="txt_company_phone">Company Phone</label>
                            </div>
                            <p class="center col s12">
                                <strong>Update Password</strong>
                                <br> The password will be automatically updated if the new and confirmation passwords match
                            </p>
                            <div class="input-field col s12">
                                <i class="fa fa-key prefix"></i>
                                <input type="password" class="validate disabled" id="txt_company_pass_old">
                                <label for="txt_company_pass_old">Old Password</label>
                            </div>
                            <div class="input-field col s12 m6">
                                <i class="fa fa-key prefix"></i>
                                <input type="password" class="validate disabled" id="txt_company_pass_new">
                                <label for="txt_company_pass_new">New Password</label>
                            </div>
                            <div class="input-field col s12 m6">
                                <i class="fa fa-key prefix"></i>
                                <input type="password" class="validate disabled" id="txt_company_pass_conf">
                                <label for="txt_company_pass_conf">Confirm Password</label>
                            </div>
                        </form>
                    </div>
                </li>
                <li>
                    <div class="collapsible-header"><i class="fa fa-history"></i>Account History</div>
                    <div class="collapsible-body">
                        <ul class="collection">
                            <li></li>
                        </ul>
                    </div>
                </li>
            </ul>
            <div class="col s12 center">
                <button class="btn amber darken-4 white-text" onclick="logout();"> Logout</button>
            </div>
    </div>
    </div>
</div>

<div class="content d-none" id="campaigns">
    <div class="row flex">
        <div id="camp_list_header" class="col s12 m5 amber darken-4 row" style="margin-bottom: 0 !important;">
            <h5 class="col s10 white-text">Campaigns</h5>
            <span class="col s2 waves-orange center-align">
                <a class="btn btn-floating white center-align" href="#campaigns/new" style="margin-top: 3px;" title="click to add a new campaign" onclick="switch_page(this.hash)">
                    <i class="fa fa-plus amber-text text-darken-4"></i>
                </a></span>
        </div>
        <div id="camp_content_header" class="col s12 m7 amber darken-4 row hide-on-small-and-down" style="margin-bottom: 0 !important;">
            <span class="col s1 hide-on-med-and-up left-align" style="padding-left: 0; margin-left: 0;">
                <a class="white btn btn-floating" style="margin-top: 3px; padding-left: 0; margin-left: 0;" href="#campaigns/home" onclick="switch_page(this.hash)">
                    <i class="fa fa-chevron-left amber-text text-darken-4"></i>
                </a>
            </span>
            <a href="#dashboard" onclick="switch_page(this.hash)" class="col s10 m12"><h5 class="center white-text company_name">Company Name</h5></a>
        </div>
        <div id="camp_list" class="col s12 m5" style="border-right: 1px solid #ff6f00; margin-bottom: 0 !important;">
            <div class="amber-text text-darken-4">
                <ul class="collection" id="camp_list_actual">

                    <li class="collection-item active"><a class="white-text text-darken-4" href="#campaigns" onclick="open_campaign(null)">Shabiki Reloads</a>
                    </li>
                </ul>
            </div>
        </div>

        <div id="camp_content_new" style="margin-bottom: 0 !important;" class="col s12 m7 amber-text text-darken-4 hide-on-small-and-down">
            <div class="row " id="campaign_registration">
                <h5 class="col s12 center">New Campaign</h5>
                <form class="col s12" name="new_campaign" action="javascript:{ add_campaign(); }">
                    <div class="row flex">
                        <div class="input-field col s12">
                            <i class="fa fa-newspaper-o prefix amber-text text-darken-4"></i>
                            <input id="campaignName" type="text" class="validate" required>
                            <label for="campaignName">Campaign Name</label>
                        </div>
                        <div class="input-field col s12">
                            <i class="fa fa-address-book prefix amber-text text-darken-4"></i>
                            <input id="campaignCode" type="text" class="validate" required>
                            <label for="campaignCode">Campaign Code eg BINA001(Cannot be changed later)</label>
                        </div>
                        <div class="input-field col s12">
                            <i class="fa fa-file prefix amber-text text-darken-4"></i>
                            <textarea id="description" type="text" class="validate materialize-textarea"></textarea>
                            <label for="description">Description (A description of the campaign) </label>
                        </div>
                        <div class="input-field col s12">
                            <i class="fa fa-external-link prefix amber-text text-darken-4"></i>
                            <input id="callBack" type="url" class="validate">
                            <label for="callBack">Call back URL (We'll send a post request after redemption)</label>
                        </div>
                        <div class="input-field col s12" id="reward_call_cont">
                            <i class="fa fa-link prefix amber-text text-darken-4"></i>
                            <input id="rywardCalls" type="url" class="validate">
                            <label for="rywardCalls">Ryward Url (To be called to confirm a custom token)</label>
                        </div>
                        <div class="col s12 center">
                            <button type="submit" class="btn waves-effect waves-light amber darken-4"><i class="fa fa-plus left"></i>Add Campaign</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div id="camp_content" style="margin-bottom: 0 !important;" class="col s12 m7 amber-text text-darken-4 d-none hide-on-small-and-down">
            <div class="row" id="read_campaign" >
                <div class="amber-text text-darken-4 col s12">
                    <h4 class="center campaign_name" style="margin-bottom: 2px !important;">Campaign Name</h4>
                    <p class="center flow-text semi-bold" style="margin-top: 0 !important;">(<span class="campaign_code">CODE</span>)</p>
                    <p class="center flow-text">Spent: KES <span class="campaign_spend"></span></p>
                    <div class="row">
                        <span class="col s5 center"><a href="" class="ul amber-text text-darken-4 current_page">Add Tokens</a></span>
                        <span class="col s7 center"><a href="" class="ul amber-text text-darken-4 current_page">View Token history</a></span>
                    </div>
                    <ul class="collapsible" data-collapsible="accordion">
                        <li>
                            <div class="collapsible-header">Campaign Details</div>
                            <div class="collapsible-body">
                                <form class="row">
                                    <div class="input-field col s12">
                                        <i class="fa fa-industry prefix"></i>
                                        <input value="" id="updateCampaignName" type="text" class="validate campaign_name">
                                        <label for="updateCampaignName">Name</label>
                                    </div>
                                    <div class="input-field col s12">
                                        <i class="fa fa-envelope-o prefix"></i>
                                        <textarea id="updateCampaignDescription" type="text" class="materialize-textarea validate campaign_desc"></textarea>
                                        <label for="updateCampaignDescription">Description</label>
                                    </div>
                                </form>
                            </div>
                        </li>
                        <li>
                            <div class="collapsible-header">Call Backs</div>
                            <div class="collapsible-body">
                                <form class="row">
                                    <div class="input-field col s12">
                                        <i class="fa fa-link prefix"></i>
                                        <input type="url" class="validate campaign_call" id="updateCallback" title="">
                                        <label class="semi-bold" for="updateCallback">Call Back Url</label>
                                    </div>
                                    <p class="small col s12">
                                        This url will be called after the user redeems the token, leave blank if you don't need this.
                                        The data sent includes: (phone_number, redeemed_code, campaign_code, reward_type, reward_amount)
                                    </p>
                                    <div class="input-field col s12">
                                        <i class="fa fa-link prefix"></i>
                                        <input type="url" class="validate campaign_reward" id="updateTokenCall" title="">
                                        <label class="semi-bold" for="updateCallback">Reward Url</label>
                                    </div>
                                    <p class="small col s12">
                                        This url is called when a user tries to redeem a token that is not saved in our system.
                                        This allows you to dynamically generate your own tokens and we will be checking from your server for the new tokens as necessary.
                                        Data sent includes: (phone_number, token(code to be redeemed), campaign_code, company_code)
                                    </p>
                                </form>
                            </div>
                        </li>
                        <li>
                            <div class="collapsible-header">Messages</div>
                            <div class="collapsible-body row">
                                <div class="input-field col s12">
                                    <i class="fa fa-envelope prefix"></i>
                                    <textarea class="materialize-textarea campaign_message" id="updateMessage"></textarea>
                                    <label for="updateMessage">Message</label>
                                </div>
                                <p class="small col s12">This message is sent once the user receives the reward</p>
                                <div class="input-field col s12">
                                    <i class="fa fa-envelope prefix"></i>
                                    <textarea class="materialize-textarea campaign_custom" id="updateCustom"></textarea>
                                    <label for="updateCustom">Custom Message</label>
                                </div>
                                <p class="small col s12">This message is sent when the reward you want to provide is not available in our system.</p>
                                <p class="flow-text">
                                    If you wish to include custom fields in the message just add the field in square brackets and we will appropriately replace them<br>
                                    e.g. [phone] = 07xxxxxxxx, [request_id], [reward], [amount], more fields coming...<br>
                                    This applies for both custom and normal messages.
                                </p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

</div>

<footer class="page-footer">
    <div class="footer-copyright amber white-text darken-4 center" style="margin-top: -20px;">
        <div class="container semi-bold">
            &copy; 2018, All rights reserved.
        </div>
    </div>
</footer>

<!--Import Font Awsome-->
<script src="https://use.fontawesome.com/cad94addce.js"></script>

<!--Import jQuery before materialize.js-->
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/materialize.min.js"></script>
<script type="text/javascript" src="js/actions.js"></script>

<script>
    // Dummy login for testing
    // dummy_login();

    company_visuals();

    $('.button-collapse').sideNav({
            menuWidth: 300, // Default is 300
            edge: 'left', // Choose the horizontal origin
            closeOnClick: true, // Closes side-nav on <a> clicks, useful for Angular/Meteor
            draggable: true, // Choose whether you can drag to open on touch screens,
            onOpen: function (el){ /* Do Stuff */
            }, // A function to be called when sideNav is opened
            onClose: function (el){ /* Do Stuff */
            } // A function to be called when sideNav is closed
        }
    );
    $(document).ready(function () {
        $('select').material_select();
    });

    var first = true;
    function switch_page(id) {
        var full_path = id;
        var split_path = id.split("/");
        id = split_path[0];
        document.querySelector('#home').classList.add('d-none');
        document.querySelector('#about').classList.add('d-none');
        document.querySelector('#contact').classList.add('d-none');
        document.querySelector('#company_login').classList.add('d-none');
        document.querySelector('#redeem').classList.add('d-none');
        document.querySelector('#campaigns').classList.add('d-none');
        document.querySelector('#dashboard').classList.add('d-none');
        var logged = company_logged_in();
        if(!logged && (id==="#campaigns" || id==="#dashboard")){
            toast("You must be logged in to access this page");
            id = "#company_login";
            full_path = id;
        }else if(id==="#campaigns" && split_path.length===2){
            if(split_path[1] === "new"){
                new_campaign();
            }else if(split_path[1] === "home"){
                close_campaign();
            }else {
                open_campaign(split_path[1]);
            }
        }else if(id==="#redeem" && split_path.length===3){
            document.querySelector('#redemptionCode').value = split_path[1] + " " + split_path[2];
        }else if(logged && id==="#company_login"){
            id = "#dashboard";
            full_path = id;
        }
        window.location.href = full_path;
        if (document.querySelector(id).classList.contains('d-none')) {
            document.querySelector(id).classList.remove('d-none');
        }
        // Don't scroll to top the first page
        if (!first)
            $('html, body').animate({scrollTop: 0}, 800);
        first = false;
        var menus = document.querySelectorAll('.menu');
        for (var pos in menus) {
            var menu = menus[pos];
            if (menu.firstChild == undefined)
                continue;
            if (menu.firstChild.hash == id) {
                menu.classList.add('active');
            } else {
                if (menu.classList.contains('active')) {
                    menu.classList.remove('active');
                }
            }
        }
        var links = document.querySelectorAll('.current_page');
        for (var i in links) {
            var link = links[i];
            if (link.href == undefined)
                continue;
            link.href = full_path;
        }
        // Reinitialize tabs that were otherwise hidden
        $('ul.tabs').tabs();
    }

    document.querySelector("#preloader").classList.add('d-none');

    var path_sent = window.location.hash.split("/");

    switch (path_sent[0]) {
        case "#home":
        case "#company_login":
        case "#contact":
        case "#campaigns":
        case "#redeem":
        case "#dashboard":
        case "#about":
            switch_page(window.location.hash);
            break;
        default:
            first = false;
            break;
    }
</script>
</body>
</html>
